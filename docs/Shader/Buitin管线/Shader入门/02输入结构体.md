## 完整代码

```js
Shader "Example01/02Shader"
{
    Properties
    {

    }
    SubShader
    {
        Pass
        {
            CGPROGRAM
            #pragma vertex vert
            #pragma fragment frag

            // 输入结构体
            struct a2v
            {
                float4 v :POSITION; // 模型顶点信息
                fixed3 n :NORMAL;   // 法线信息
            };
            // 传入a2v结构体
            fixed4 vert (a2v v) :SV_POSITION
            {
                return UnityObjectToClipPos(v.v);
            }

            fixed4 frag () :SV_Target
            {
                return fixed4(1,1,1,1);
            }
            ENDCG
        }
    }
}
```

## 结构分析

Shader01中```fixed4 v:POSITION```语义只是接受顶点信息，完整的渲染包括顶点、贴图、法线等。此时就需要使用到**结构体**。关键词：```struct```可以理解为声明了一个箱子里面存储了各种物品，箱子有一个名字：a2v 使用时就找箱子取东西。

上一章中没有提及```fixed4 vert (a2v v)```为什么是这么书写的，结合本章的输入结构体一并讲解。如果了解C#等编程语言就非常容易理解。

- 首先编程的基础概念为：万物皆对象：

```  js
a = 10 // 翻译过来就是：a 等于 10
// 那么调用 a 就相当于调用 10
// 但是这还不符合编译型语言的编程规则
    
int a = 10；//释义: 声明整数类型 a 等于10
// 在你使用前你需要声明它是存什么的。
// 简单比喻：你会在橱柜放碗但是你不会把碗放到衣柜里，这就是类型。类型后续会介绍
```

  ```js
// 此时再来理解结构体就比较方便了。声明了一个大箱子 里面装了 模型 法线 信息
struct a2v
{
    float4 v :POSITION; // 模型顶点信息
    fixed3 n :NORMAL;   // 法线信息
};
  ```

- 着色器 方法 函数

```js
// 编程语言的叫法很多，着色器、方法、函数、都有。但是作用都是一致的
// 返回值 方法名(传参){运行代码}
void Start()
{
	// Unity脚本模板方法 开始时调用一次。
    // 通俗理解：调用名称Start()方法<命令>时就是调用了{}内的代码.
    // 简单比喻：去冰箱拿西瓜这是一条命令，但命令的动作却有 打开冰箱 拿出西瓜 关上冰箱
    // 传参：这条命令就只有<西瓜>是变数，拿可乐呢？动作还是一样的。
    // 返回值：就是处理的结果 如果冰箱没有可乐呢？执行后得知道吧
}
// 根据以上内容写成中文代码：
结果 冰箱拿东西(物品)
{
	打开冰箱
	拿+物品
	关上冰箱
	返回结果
}
拿到没？ = 冰箱拿东西(啤酒) // 执行命令拿啤酒
拿到没？ = 冰箱拿东西(西瓜) // 执行命令拿西瓜
```

```js
// 再来看这段代码释义：
// 执行vert 第一章中特别提示的 #pragma vertex vert  就是固定调用的
// 传入类型：a2v 名字：v 的结构体 语义：顶点输出裁剪空间顶点信息
// 处理完的结果返回值为 fixed4
fixed4 vert (a2v v) :SV_POSITION
{
    //返回结果 执行了Unity内置的一个处理命令
    return UnityObjectToClipPos(v.v);
}
```

> **笔者拙见**：此章概要的讲述了一下编程逻辑、吞枣可略过复制粘贴即可基本是固定写法。如果深究建议入门学习一下C#等编程语言。

